<div ng-controller="LoginController">
    <modal ng-model="loginOpen">
        <div class="closes-modal login-modal">
            <h3 class="modal-header">{{ newUser && 'Create user' || 'Sign In' }}</h3>
            <form ng-submit="signIn()" class="login-form">
                <div class="form-element">
                    <label>
                        <span>Email address</span>
                        <input type="text" ng-model="loginUser.username" class="input-email" focus-me="focusUsername" />
                    </label>
                </div>
                <div class="form-element">
                    <label>
                        <span>Password</span>
                        <input type="password" ng-model="loginUser.password" />
                    </label>
                </div>
                <p class="error-message" ng-show="loginError">
                    <i class="icon-warning-sign"></i> {{ loginError }}
                </p>
                <div class="form-element">
                    <input class="btn" type="submit" value="{{ newUser && 'Create user' || 'Sign In' }}" />
                    or
                    <a class="btn facebook-login-btn" ng-click="facebookLogin()">
                        <span><i class="icon-facebook"></i></span>
                        Login with Facebook</a>
                </div>
            </form>
            <div class="login-new-user">
                <a ng-click="newUser = true">Create a new user</a>
            </div>
        </div>
    </modal>
</div>